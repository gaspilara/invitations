<section>
  <form (ngSubmit)="newGuest(newGuestForm.value)" [formGroup]="newGuestForm">
    <div>
      <div class="form-group">
        <input type="hidden" formControlName="id">
        <input type="text" class="form-control" placeholder="Name"
          formControlName="name" 
          [ngClass]="{'is-invalid': !isValidName}" 
          (ngModelChange)="changeValidName()" 
          [(ngModel)]="name"
        >
      </div>
      <div class="form-group">
        <input type="text" class="form-control" placeholder="Contact" name="contact-guest" 
          formControlName="contact" 
          [ngClass]="{'is-invalid': !isValidContact}"
          (ngModelChange)="changeValidContact()" 
          [(ngModel)]="contact"
        >
      </div>
      <div class="form-group">
        <label for="rr">Is Host:</label>
          <div>
            <div class="form-check-inline">
                <input class="form-check-input" type="radio"
                  formControlName="host"  
                  (click)="onHostChange(true)"
                >
                <label class="form-check-label" for="optionYes">Yes</label>
            </div>
            <div class="form-check-inline">
                <input class="form-check-input" type="radio" name="host-guest" checked
                  formControlName="host" 
                  (click)="onHostChange(false)"
                >
                <label class="form-check-label" for="optionNo">No</label>
            </div>
          </div>
          <ng-container *ngIf="quantityN2">
            <div class="form-group">
              <input type="number" class="form-control" placeholder="Guests quantity"
                formControlName="guestsQuantity" 
                (ngModelChange)="changeValidContact()" 
                [(ngModel)]="guestsQuantity"
              >
            </div>
          </ng-container>
      </div>
      <div>  
        <button type="submit" class="btn btn-primary form-control"
          (click)="addGuest()"
          [disabled]="!newGuestForm.valid"
        > Add guest
        </button>
      </div>
    </div>
  </form>
  
  <ng-container *ngIf="guests.length!==0">
    <ul class="list-group">
      <button class="btn btn-success form-control" (click)="createList()"> 
        Create list <span class="badge bg-danger rounded-pill">{{guests.length}}</span>
      </button>
      <li *ngFor="let g of guests" class="list-group-item">{{g.name}}</li>
    </ul>
  </ng-container>

</section>
